{"version":3,"sources":["components/SearchBar.js","api/unslash.js","components/ImageCard.js","components/ImageList.js","components/Loader.js","components/App.js","index.js"],"names":["SearchBar","props","handleChange","e","setState","term","target","value","handleSubmit","preventDefault","onSubmit","state","className","this","type","onChange","Component","axios","create","baseURL","headers","Authorization","ImageCard","span","imageRef","React","createRef","current","addEventListener","Height","clientHeight","Math","ceil","image","alt_description","urls","style","gridRowEnd","ref","alt","src","regular","ImageList","images","map","key","id","Loader","margin","App","getPhotos","a","loader","page","unslash","get","params","query","per_page","response","data","concat","results","total","window","document","documentElement","scrollTop","scrollHeight","paddingTop","marginBottom","ReactDOM","render","getElementById"],"mappings":"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","file":"static/js/main.357966b6.chunk.js","sourcesContent":["import React, { Component } from \"react\";\r\n\r\nclass SearchBar extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      term: \"\",\r\n    };\r\n  }\r\n\r\n  handleChange = (e) => {\r\n    this.setState({ term: e.target.value });\r\n  };\r\n\r\n  handleSubmit = (e) => {\r\n    e.preventDefault();\r\n\r\n    this.props.onSubmit(this.state.term);\r\n  };\r\n  render() {\r\n    return (\r\n      <div className=\"ui segment\">\r\n        <form onSubmit={this.handleSubmit} className=\"ui form\">\r\n          <div className=\"field\">\r\n            <label>Image Search</label>\r\n            <input\r\n              type=\"text\"\r\n              value={this.state.term}\r\n              onChange={this.handleChange}\r\n            />\r\n          </div>\r\n        </form>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default SearchBar;\r\n","import axios from \"axios\";\r\n\r\nexport default axios.create({\r\n  baseURL: \"https://api.unsplash.com/\",\r\n  headers: {\r\n    Authorization: \"Client-ID J-Gq9L2pa4yT17cN0ZknmptH9ILo8zOTv4P0Ik-2Frg\",\r\n  },\r\n});\r\n","import React, { Component } from \"react\";\r\n\r\nclass ImageCard extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      span: 0,\r\n    };\r\n\r\n    this.imageRef = React.createRef();\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.imageRef.current.addEventListener(\"load\", () => {\r\n      const Height = this.imageRef.current.clientHeight;\r\n      const span = Math.ceil(Height / 10);\r\n      this.setState({ span });\r\n    });\r\n  }\r\n\r\n  render() {\r\n    const { alt_description, urls } = this.props.image;\r\n\r\n    return (\r\n      <div style={{ gridRowEnd: `span ${this.state.span}` }}>\r\n        <img ref={this.imageRef} alt={alt_description} src={urls.regular} />\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default ImageCard;\r\n","import React from \"react\";\r\nimport ImageCard from \"./ImageCard\";\r\nimport \"./ImageList.css\";\r\n\r\nfunction ImageList(props) {\r\n  const images = props.images.map((image) => (\r\n    <ImageCard key={image.id} image={image} />\r\n  ));\r\n  return <div className=\"image-list\">{images}</div>;\r\n}\r\n\r\nexport default ImageList;\r\n","import React from \"react\";\r\n\r\nfunction Loader() {\r\n  return (\r\n    <div\r\n      style={{ margin: \"5rem auto\" }}\r\n      className=\"ui active centered inline loader\"\r\n    ></div>\r\n  );\r\n}\r\n\r\nexport default Loader;\r\n","import React, { Component } from \"react\";\nimport SearchBar from \"./SearchBar\";\nimport unslash from \"../api/unslash\";\nimport ImageList from \"./ImageList\";\nimport Loader from \"./Loader\";\n\nexport class App extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      images: [],\n      term: \"\",\n      page: 1,\n      total: 0,\n      loader: false,\n    };\n  }\n\n  getPhotos = async () => {\n    this.setState({ loader: true });\n    const { images, term, page } = this.state;\n\n    if (!term) return false;\n\n    const response = await unslash.get(\"/search/photos\", {\n      params: { query: term, per_page: 20, page: page },\n    });\n\n    if (!response.data) {\n      return false;\n    }\n\n    this.setState({\n      images: images.concat(response.data.results),\n      page: page + 1,\n      total: response.data.total,\n      loader: false,\n    });\n  };\n\n  handleSubmit = async (term) => {\n    await this.setState({\n      term: term,\n      page: 1,\n      images: [],\n    });\n\n    this.getPhotos();\n  };\n\n  componentDidMount() {\n    window.addEventListener(\"scroll\", async () => {\n      const {\n        scrollTop,\n        clientHeight,\n        scrollHeight,\n      } = document.documentElement;\n\n      if (scrollTop + clientHeight >= scrollHeight - 20) {\n        this.getPhotos();\n      }\n    });\n  }\n\n  render() {\n    return (\n      <div className=\"ui container\" style={{ paddingTop: \"2rem\" }}>\n        <SearchBar onSubmit={this.handleSubmit} />\n\n        <div style={{ marginBottom: \"1rem\" }} className=\"ui large label\">\n          Found: {this.state.total} images\n        </div>\n\n        <ImageList images={this.state.images} />\n\n        {this.state.loader ? <Loader /> : \"\"}\n      </div>\n    );\n  }\n}\n\nexport default App;\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport App from \"./components/App\";\r\n\r\nReactDOM.render(<App />, document.getElementById(\"root\"));\r\n"],"sourceRoot":""}